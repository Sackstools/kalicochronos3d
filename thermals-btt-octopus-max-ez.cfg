# =====================================================================
# thermals-btt-octopus-max-ez.cfg - Controle Térmico Avançado
# =====================================================================
# Define todos os aquecedores, sensores e ventoinhas.

# --- Lógica da Extrusora ---
# Contém a lógica de fluxo e térmica. O motor é definido em hardware.cfg.
[extruder]
heater_pin: PA0 # Conectado em HE1
sensor_pin: PC5 # Conectado em TH1
sensor_type: PT1000 # Exemplo de sensor de alta precisão. Altere se necessário.
control: pid
# Execute PID_CALIBRATE para obter estes valores.
pid_Kp: 22.2
pid_Ki: 1.08
pid_Kd: 114
min_temp: 0
max_temp: 350
# O Pressure Advance deve ser calibrado com a macro CALIBRATE_PA.
pressure_advance: 0.03
pa_unsmooth_time: 0.02


# --- Mesa Aquecida (600x600mm) ---
[heater_bed]
heater_pin: PF5 # Conectado em HB
# Para uma mesa grande, um sensor de qualidade é essencial.
sensor_type: ATC Semitec 104GT-2 # Exemplo
sensor_pin: PB1 # Conectado em THB
# Usando Model Predictive Control (MPC) para estabilidade térmica superior em grandes massas.
control: mpc
# Os valores abaixo são placeholders. Execute MPC_CALIBRATE para obtê-los.
model_coef: 336.8, 3217.5, 93.3, 1.00
model_bias: 0.1
min_temp: 0
max_temp: 130


# --- Câmara Aquecida por Radiação IR ---
[heater_generic chamber]
gcode_id: C # Permite usar M105 C para ver a temperatura da câmara
heater_pin: PF6 # Conectado em HE0
sensor_pin: PB0 # Conectado em TH0
sensor_type: Generic 3950 # Exemplo, use um sensor adequado para a câmara.
# Usando MPC também para a câmara, ideal para grandes volumes e aquecimento por IR.
control: mpc
max_power: 1.0 # Assumindo controle via SSR
min_temp: 0
max_temp: 90


# --- Ventoinhas ---
[fan]
# Ventoinha de resfriamento da peça. Use um pino de ventoinha disponível.
pin: PA6

[heater_fan hotend_fan]
# Ventoinha do dissipador do hotend.
pin: PA5
heater: extruder
heater_temp: 50.0
